{{#extends 'base'}}

{{#block 'content'}}
<div class="d-flex justify-content-between align-items-center">
    <h1>Cart</h1>
    <a class="btn btn-sm btn-primary" href="/checkout">Checkout</a>
</div>

<ul class="list-group">
    {{#each shoppingCart}}
    <li class="list-group-item my-3">
        <h4>{{this.poster.title}}</h4>
        <h5>Category: {{this.poster.mediaProperty.name}}</h5>
        <h5>Cost: {{this.poster.cost}} </h5>
        <form method="POST" action="/cart/{{this.id}}/quantity/update">
            <input type="hidden" value="{{../csrfToken}}" name="_csrf" />
            <h5>
                Quantity: <input type="text" name="newQuantity" value="{{this.quantity}}" style="width:30px" />
                <input type="submit" value="Update Quantity" class="btn btn-success btn-sm" />
            </h5>
        </form>
        <div>
            <a class="btn btn-sm btn-danger" href="/cart/{{this.poster.id}}/remove">Remove</a>
        </div>
    </li>
    {{/each}}
</ul>

{{/block}}

{{/extends}}